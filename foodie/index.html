<!DOCTYPE html>
<html>
  <head>
    <title>맛집들</title>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="css/styles.css" type="text/css">
	
	<script src="https://parksh2343.github.io/js/underscore.js"></script>
	<script src="https://parksh2343.github.io/js/jquery.js"></script>
	<script src="https://parksh2343.github.io/js/backbone.js"></script>
	<script src="https://parksh2343.github.io/js/q.js"></script>
	<script src="https://parksh2343.github.io/js/baas-1.1.3.js"></script>
	<script src="https://parksh2343.github.io/js/baasSample.js"></script>
	<script src="https://parksh2343.github.io/js/jquery.nestedAccordion.js"></script>
	
	<script src="js/main.js"></script>
  </head>

  <body>
  	<ul id="store-list" class="accordion">
  	</ul>

	<script>
	init();
	getStores(onSuccess, onError);
	
	function onSuccess(model, response) {
		parseList(response.results);
	}
	function onError(model, response) {     
		
	}
	
	function parseList(results) {
		for(var i = 0 ; i < results.length ; i++) {
			var li = $('<li />', {
				click: function(){
					alert(results[i].objectId); 
				}
			});
			
			var address = $('<h4 />', {
				text: results[i].address
			});
			var desc = $('<h4 />', {
				text: results[i].desc
			});
			var location = $('<h4 />', {
				text: results[i].location
			});
			var storeName = $('<h4 />', {
				text: results[i].storeName
			});

			li.append(address);
			li.append(desc);
			li.append(location);
			li.append(storeName);
			$("#store-list").append(li);
			
		}
	}
	
	</script>
  </body>
</html>
